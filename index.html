<!DOCTYPE html>
<html>
  <head>
    <title>VR Tetris Arcade - Cube Room with Video</title>
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <style>
      body {
        margin: 0;
        overflow: hidden; /* Hide scrollbars */
      }
    </style>
    <script>
      // Custom A-Frame component to handle video playback on click
      AFRAME.registerComponent('video-player', {
        init: function () {
          var video = document.querySelector('#arcadeVideo');
          var el = this.el; // The a-video entity

          // Listen for a click event on the a-video entity
          el.addEventListener('click', function () {
            if (video.paused) {
              video.play();
              console.log('Video started playing!');
            } else {
              video.pause();
              console.log('Video paused!');
            }
          });
        }
      });
    </script>
  </head>
  <body>
    <a-scene>
      <a-assets>
        <video
          id="arcadeVideo"
          src="https://raw.githubusercontent.com/augmentedthinker/test/main/video.mp4"
          autoplay="false"
          loop="true"
          crossorigin="anonymous"
          playsinline
          webkit-playsinline
          muted
        ></video>
        </a-assets>

      <a-sky color="#6e6e6e"></a-sky>

      <a-plane
        position="0 0 -4"
        rotation="-90 0 0"
        width="10"
        height="10"
        color="#7BC8A4"
      ></a-plane>

      <a-video
        src="#arcadeVideo"
        width="8"
        height="4.5"
        position="0 2.5 -4.9"
        material="shader: flat;"
        video-player
      ></a-video>
      <a-box
        position="-5 2.5 0"
        rotation="0 90 0"
        width="10"
        height="5"
        depth="0.1"
        color="#F16745"
      ></a-box>
      <a-box
        position="5 2.5 0"
        rotation="0 -90 0"
        width="10"
        height="5"
        depth="0.1"
        color="#FCB93A"
      ></a-box>
      <a-box
        position="0 2.5 5"
        rotation="0 180 0"
        width="10"
        height="5"
        depth="0.1"
        color="#FFEB3B"
      ></a-box>

      <a-plane
        position="0 5 -4"
        rotation="90 0 0"
        width="10"
        height="10"
        color="#AAAAAA"
      ></a-plane>

      <a-entity camera look-controls wasd-controls position="0 1.6 0">
        <a-cursor raycaster="objects: [video-player];"></a-cursor>
        </a-entity>
    </a-scene>
  </body>
</html>
