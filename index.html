<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>VR Space for Oculus Quest 2</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
</head>
<body>
    <!-- 
        A-Frame scene setup:
        - vr-mode-ui="enabled: false" disables default UI for cleaner experience
        - renderer="colorManagement: true" ensures accurate color rendering
        - webxr="requiredFeatures: local-floor" enables floor-based tracking
    -->
    <a-scene 
        vr-mode-ui="enabled: false"
        renderer="colorManagement: true; physicallyCorrectLights: true"
        webxr="requiredFeatures: local-floor">
        
        <!-- 
            Sky setup:
            - Creates an immersive background using equirectangular projection
            - Uses a gradient from deep blue (top) to lighter blue (horizon)
            - radius="50" creates distant background (50 meters away)
        -->
        <a-sky 
            color="#87CEEB" 
            radius="50">
        </a-sky>
        
        <!-- 
            Ground/Floor setup:
            - width/height = 100m creates large walkable area
            - rotation="-90 0 0" orients plane horizontally
            - color="#2E8B57" uses forest green for natural look
            - shadow="receive: true" allows objects to cast shadows
            - static-body marks as physics object (if physics used)
        -->
        <a-plane 
            id="ground"
            position="0 0 0" 
            rotation="-90 0 0" 
            width="100" 
            height="100" 
            color="#2E8B57" 
            shadow="receive: true">
        </a-plane>
        
        <!-- 
            Player rig setup:
            - Contains camera and controllers
            - position="0 0 0" starts at origin
            - movement-controls enables smooth locomotion
            - Constrained to floor level (y=0) for stability
        -->
        <a-entity 
            id="player" 
            position="0 0 0"
            movement-controls="speed: 0.2; constrainToNavMesh: false">
            
            <!-- 
                Camera setup:
                - position="0 1.6 0" sets eye-level height (1.6m)
                - look-controls enables head rotation tracking
                - wasd-controls disabled (using controller movement)
            -->
            <a-entity 
                id="head" 
                camera 
                position="0 1.6 0" 
                look-controls>
            </a-entity>
            
            <!-- 
                Left controller setup:
                - hand="left" specifies left hand
                - position/rotation default to tracked values
                - teleport-controls enables teleportation movement
                - Override default teleport button to grip (button 2)
            -->
            <a-entity 
                id="left-controller" 
                hand="left"
                teleport-controls="
                    cameraRig: #player; 
                    teleportOrigin: #head; 
                    button: grip; 
                    collisionEntities: #ground;
                    hitEntity: #teleport-hit;
                    curveShootingSpeed: 10">
            </a-entity>
            
            <!-- 
                Right controller setup:
                - hand="right" specifies right hand
                - teleport-controls with same configuration as left
                - Uses same grip button for consistency
            -->
            <a-entity 
                id="right-controller" 
                hand="right"
                teleport-controls="
                    cameraRig: #player; 
                    teleportOrigin: #head; 
                    button: grip; 
                    collisionEntities: #ground;
                    hitEntity: #teleport-hit;
                    curveShootingSpeed: 10">
            </a-entity>
        </a-entity>
        
        <!-- 
            Teleport visual feedback:
            - Invisible by default (alpha: 0)
            - Becomes visible during teleport aiming (alpha: 0.5)
            - Green circle shows valid teleport destination
            - Follows parabolic curve trajectory
        -->
        <a-entity id="teleport-hit">
            <a-ring 
                visible="false"
                radius-inner="0.25" 
                radius-outer="0.5" 
                material="color: #00FF00; shader: flat; alpha: 0.5">
            </a-ring>
        </a-entity>
        
        <!-- 
            Environment lighting:
            - Ambient light provides overall illumination (30% intensity)
            - Directional light simulates sunlight (casts shadows)
            - Light positioned high and angled for natural shadows
        -->
        <a-entity 
            light="type: ambient; intensity: 0.3; color: #BBB">
        </a-entity>
        <a-entity 
            light="type: directional; intensity: 0.8; castShadow: true; 
                   shadowMapHeight: 1024; shadowMapWidth: 1024;" 
            position="-10 20 -10">
        </a-entity>
    </a-scene>
</body>
</html>
