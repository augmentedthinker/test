<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Immersive VR Forest</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.3.2/dist/aframe-environment-component.min.js"></script>
    <script src="https://unpkg.com/aframe-particle-system-component@1.3.0/dist/aframe-particle-system-component.min.js"></script>
</head>
<body>
    <a-scene environment="preset: forest; dressingAmount: 500; playArea: 20" 
             renderer="colorManagement: true; physicallyCorrectLights: true"
             background="color: #87CEEB">
        
        <!-- Player setup with movement controls -->
        <a-entity id="player" 
                  position="0 1.6 0"
                  camera="active: true"
                  look-controls
                  wasd-controls>
            <!-- Particle system for fireflies -->
            <a-entity particle-system="preset: dust; particleCount: 1000; color: #FFFF99; size: 0.05; maxAge: 5"></a-entity>
        </a-entity>
        
        <!-- Sun -->
        <a-entity light="type: directional; color: #FFCCAA; intensity: 0.8" position="-1 3 -1"></a-entity>
        
        <!-- Ambient light -->
        <a-entity light="type: ambient; color: #88BBFF; intensity: 0.3"></a-entity>
        
        <!-- Floating butterflies -->
        <a-entity id="butterflies" position="0 2 -5">
            <a-entity gltf-model="https://cdn.glitch.com/69854e5f-05e2-49b8-85e0-4a70b5f97228%2Fbutterfly.glb?v=1625425677079" 
                      scale="0.5 0.5 0.5" 
                      position="-2 0 0"
                      animation="property: rotation; to: 0 360 0; loop: true; dur: 8000; easing: linear"></a-entity>
            <a-entity gltf-model="https://cdn.glitch.com/69854e5f-05e2-49b8-85e0-4a70b5f97228%2Fbutterfly.glb?v=1625425677079" 
                      scale="0.5 0.5 0.5" 
                      position="2 0.5 1"
                      animation="property: rotation; to: 0 360 0; loop: true; dur: 6000; easing: linear"></a-entity>
        </a-entity>
        
        <!-- Interactive mushrooms -->
        <a-entity id="mushrooms" position="0 0 -8">
            <a-entity geometry="primitive: cylinder; radius: 0.3; height: 0.1" 
                      material="color: #8B4513" 
                      position="-1.5 0.05 0"></a-entity>
            <a-entity geometry="primitive: sphere; radius: 0.4" 
                      material="color: #FF6347" 
                      position="-1.5 0.3 0"
                      animation="property: scale; to: 1.2 1.2 1.2; dir: alternate; loop: true; dur: 1500"></a-entity>
            
            <a-entity geometry="primitive: cylinder; radius: 0.25; height: 0.08" 
                      material="color: #8B4513" 
                      position="1.5 0.04 0"></a-entity>
            <a-entity geometry="primitive: sphere; radius: 0.35" 
                      material="color: #9370DB" 
                      position="1.5 0.25 0"
                      animation="property: scale; to: 1.1 1.1 1.1; dir: alternate; loop: true; dur: 1800"></a-entity>
        </a-entity>
        
        <!-- Sound effects -->
        <a-entity sound="src: url(https://cdn.glitch.com/69854e5f-05e2-49b8-85e0-4a70b5f97228%2Fforest-ambience.mp3?v=1625425677079); autoplay: true; loop: true; volume: 0.3"></a-entity>
        
        <!-- Teleportation points -->
        <a-entity id="teleport-points">
            <a-entity geometry="primitive: ring; radiusInner: 0.5; radiusOuter: 1" 
                      material="color: #00FF00; shader: flat; transparent: true; opacity: 0.5"
                      position="0 0.01 -10"
                      rotation="-90 0 0"
                      event-set__enter="_event: mouseenter; material.opacity: 0.8"
                      event-set__leave="_event: mouseleave; material.opacity: 0.5"
                      teleport-controls="cameraRig: #player; button: trigger"></a-entity>
            
            <a-entity geometry="primitive: ring; radiusInner: 0.5; radiusOuter: 1" 
                      material="color: #00FF00; shader: flat; transparent: true; opacity: 0.5"
                      position="5 0.01 -5"
                      rotation="-90 0 0"
                      event-set__enter="_event: mouseenter; material.opacity: 0.8"
                      event-set__leave="_event: mouseleave; material.opacity: 0.5"
                      teleport-controls="cameraRig: #player; button: trigger"></a-entity>
        </a-entity>
    </a-scene>
    
    <!-- Instructions for desktop users -->
    <div style="position: absolute; bottom: 20px; left: 0; width: 100%; text-align: center; color: white; font-family: Arial, sans-serif; font-size: 18px; text-shadow: 1px 1px 2px black; pointer-events: none;">
        <p>Enter VR: Look around with mouse, WASD to move. On Quest 2: Put on headset and explore!</p>
    </div>
</body>
</html>
