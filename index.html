<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Cubic Room • Quest 2 WebXR</title>
  <meta name="description" content="A-Frame cube room with joystick movement & laser pointers for Oculus Quest 2." />
  <!-- A-Frame core -->
  <script src="https://cdn.jsdelivr.net/npm/aframe@1.5.0/dist/aframe.min.js"></script>
  <!-- Extras: gamepad+joystick+smooth locomotion packed into movement-controls -->
  <script src="https://cdn.jsdelivr.net/npm/aframe-extras@6.1.1/dist/aframe-extras.min.js"></script>
  <style>
    /* Optional: make desktop-preview fill the browser tab */
    html,body {margin:0;height:100%;overflow:hidden;}
  </style>
</head>

<body>
  <!-- ▶️ SCENE -->
  <a-scene
      renderer="colorManagement:true"
      background="color: #222"
      xr-mode-ui="enabled: true"    <!-- shows “Enter VR” button on desktop -->
      device-orientation-permission-ui="enabled: false">

    <!-- ⚙️ CAMERA RIG with movement & look controls -->
    <a-entity id="rig"
              movement-controls="fly: true; speed: 0.06"
              position="0 1.6 0">
      <a-entity camera look-controls></a-entity>

      <!-- 🔺 Laser pointers (Quest 2 controllers automatically appear) -->
      <a-entity laser-controls="hand: left"
                raycaster="objects: .interactive; lineColor: #22aaff;"></a-entity>
      <a-entity laser-controls="hand: right"
                raycaster="objects: .interactive; lineColor: #22aaff;"></a-entity>
    </a-entity>

    <!-- 🏠 Cube room (10 m³, viewable only from the inside) -->
    <a-box position="0 5 0" width="10" height="10" depth="10"
           material="color: #808080; metalness: 0.1; roughness: 1; side: back"></a-box>

    <!-- ✨ Lighting -->
    <a-entity light="type: ambient; color: #BBBBBB"></a-entity>
    <a-entity light="type: point; intensity: 0.8; distance: 20; color:#ffffff"
              position="0 5 0"></a-entity>

    <!-- 🔘 Simple interactive target to test the lasers -->
    <a-sphere class="interactive"
              position="0 1.5 -3"
              radius="0.25"
              color="#ff4040"
              animation__hover="property: scale; dir: alternate; dur: 300; startEvents: raycaster-intersected; from: 1 1 1; to: 1.3 1.3 1.3"
              animation__leave="property: scale; dur: 300; startEvents: raycaster-intersected-cleared; to: 1 1 1">
    </a-sphere>

    <!-- Sky (just to hide default infinity grid when outside box) -->
    <a-sky color="#222"></a-sky>
  </a-scene>

  <!-- 📓  Controls Quick-Ref (visible only in desktop preview) -->
  <noscript>Your browser must support JavaScript to view this experience.</noscript>
</body>
</html>
