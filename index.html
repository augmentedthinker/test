<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>A-Frame Basic Environment</title>
  <meta name="description" content="A basic A-Frame environment for Meta Quest, based on provided PRPs.">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- A-Frame Core Library (v1.5.0 as specified in PRPs) -->
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  
  <!-- 
    A-Frame Extras for additional components like movement-controls.
    This is mentioned in the "Product Requirements Prompt_ A-Frame Baseline for Meta Quest.pdf"
    to enable smooth locomotion with thumbsticks.
  -->
  <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.2.0/dist/aframe-extras.min.js"></script>
  
  <!-- 
    A-Frame Environment Component.
    This powerful component, recommended in "Environmental Design in A-Frame VR.pdf",
    generates a complete background environment (sky, ground, lighting, dressing) with one line of code.
    Version 1.3.4 is used for compatibility with A-Frame 1.5.0.
  -->
  <script src="https://unpkg.com/aframe-environment-component@1.3.4/dist/aframe-environment-component.min.js"></script>
</head>
<body>
  <!-- 
    The A-Frame scene, which acts as the root for all VR content.
    The 'stats' component is added for easy performance monitoring (FPS, draw calls),
    a key validation requirement from the PRPs.
  -->
  <a-scene stats>
    
    <!-- 
      Assets Management System.
      As per best practices in the PRPs, all assets like images, models, and sounds
      should be preloaded here to prevent runtime stalls. This example has no external assets.
    -->
    <a-assets>
      <!-- <img id="my-texture" src="path/to/image.png"> -->
    </a-assets>

    <!-- 
      Player Rig.
      This entity group represents the player and includes the camera and controllers.
      Positioning the rig moves the entire player setup. 'movement-controls' enables
      thumbstick locomotion. This structure follows the "A-Frame Baseline for Meta Quest.pdf".
    -->
    <a-entity id="playerRig" position="0 0 5" movement-controls="fly: false; speed: 0.15;">
      <!-- 
        The camera entity, representing the user's viewpoint.
        'look-controls' enables head-based rotation.
        It's placed at a height of 1.6 meters to simulate average eye level.
      -->
      <a-entity camera position="0 1.6 0" look-controls></a-entity>
      
      <!-- 
        Controller entities using 'meta-touch-controls' for Quest controllers.
        This component automatically loads controller models and handles input events.
        A raycaster is attached for potential future interactions.
      -->
      <a-entity id="leftHand" meta-touch-controls="hand: left" raycaster="objects: .clickable"></a-entity>
      <a-entity id="rightHand" meta-touch-controls="hand: right" raycaster="objects: .clickable"></a-entity>
    </a-entity>

    <!-- 
      Static Environment.
      Using the 'environment' component to generate a complete scene.
      - preset: forest - Creates a forest theme with trees, hills, and appropriate lighting.
      - groundColor: #6B8E23 - Customizes the ground color for a lush look.
      - shadow: true - Enables shadows from the main directional light for more realism.
      - shadowSize: 10 - A moderate shadow map size to balance quality and performance.
      - fog: 0.7 - Adds atmospheric fog for depth perception.
      This setup is a direct implementation of the plan in "Environmental Design in A-Frame VR.pdf".
    -->
    <a-entity 
      environment="preset: forest; 
                   groundColor: #6B8E23; 
                   shadow: true; 
                   shadowSize: 10;
                   fog: 0.7">
    </a-entity>

  </a-scene>
</body>
</html>
